{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { UNITS_LENGTH, UNIT_CENTIMETER } from './../../constants';\nimport convert from 'convert-units';\nimport { FormLabel, FormNumberInput, FormSelect } from '../../components/style/export';\nimport { Map } from 'immutable';\nimport { toFixedFloat } from '../../utils/math';\nimport PropertyStyle from './shared-property-style';\nvar internalTableStyle = {\n  borderCollapse: 'collapse'\n};\nvar secondTdStyle = {\n  padding: 0\n};\nvar unitContainerStyle = {\n  width: '5em'\n};\nexport default function PropertyLengthMeasure(_ref, _ref2) {\n  var value = _ref.value,\n      onUpdate = _ref.onUpdate,\n      onValid = _ref.onValid,\n      configs = _ref.configs,\n      sourceElement = _ref.sourceElement,\n      internalState = _ref.internalState,\n      state = _ref.state;\n  var catalog = _ref2.catalog;\n  var length = value.get('length') || 0;\n\n  var _length = value.get('_length') || length;\n\n  var _unit = value.get('_unit') || UNIT_CENTIMETER;\n\n  var hook = configs.hook,\n      label = configs.label,\n      configRest = _objectWithoutProperties(configs, ['hook', 'label']);\n\n  var update = function update(lengthInput, unitInput) {\n    var newLength = toFixedFloat(lengthInput);\n    var merged = value.merge({\n      length: unitInput !== UNIT_CENTIMETER ? convert(newLength).from(unitInput).to(UNIT_CENTIMETER) : newLength,\n      _length: lengthInput,\n      _unit: unitInput\n    });\n\n    if (hook) {\n      return hook(merged, sourceElement, internalState, state).then(function (val) {\n        return onUpdate(val);\n      });\n    }\n\n    return onUpdate(merged);\n  };\n\n  return React.createElement('table', {\n    className: 'PropertyLengthMeasure',\n    style: PropertyStyle.tableStyle\n  }, React.createElement('tbody', null, React.createElement('tr', null, React.createElement('td', {\n    style: PropertyStyle.firstTdStyle\n  }, React.createElement(FormLabel, null, label)), React.createElement('td', {\n    style: secondTdStyle\n  }, React.createElement('table', {\n    style: internalTableStyle\n  }, React.createElement('tbody', null, React.createElement('tr', null, React.createElement('td', null, React.createElement(FormNumberInput, _extends({\n    value: _length,\n    onChange: function onChange(event) {\n      return update(event.target.value, _unit);\n    },\n    onValid: onValid\n  }, configRest))), React.createElement('td', {\n    style: unitContainerStyle\n  }, React.createElement(FormSelect, {\n    value: _unit,\n    onChange: function onChange(event) {\n      return update(_length, event.target.value);\n    }\n  }, UNITS_LENGTH.map(function (el) {\n    return React.createElement('option', {\n      key: el,\n      value: el\n    }, el);\n  }))))))))));\n}\nPropertyLengthMeasure.propTypes = {\n  value: PropTypes.instanceOf(Map).isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onValid: PropTypes.func,\n  configs: PropTypes.object.isRequired,\n  sourceElement: PropTypes.object,\n  internalState: PropTypes.object,\n  state: PropTypes.object.isRequired\n};\nPropertyLengthMeasure.contextTypes = {\n  catalog: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/home/srihari/Desktop/Sparkplug_PandemicSparks/grid/node_modules/react-planner/es/catalog/properties/property-lenght-measure.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","React","PropTypes","UNITS_LENGTH","UNIT_CENTIMETER","convert","FormLabel","FormNumberInput","FormSelect","Map","toFixedFloat","PropertyStyle","internalTableStyle","borderCollapse","secondTdStyle","padding","unitContainerStyle","width","PropertyLengthMeasure","_ref","_ref2","value","onUpdate","onValid","configs","sourceElement","internalState","state","catalog","get","_length","_unit","hook","label","configRest","update","lengthInput","unitInput","newLength","merged","merge","from","to","then","val","createElement","className","style","tableStyle","firstTdStyle","onChange","event","map","el","propTypes","instanceOf","isRequired","func","object","contextTypes"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { UNITS_LENGTH, UNIT_CENTIMETER } from './../../constants';\nimport convert from 'convert-units';\nimport { FormLabel, FormNumberInput, FormSelect } from '../../components/style/export';\nimport { Map } from 'immutable';\nimport { toFixedFloat } from '../../utils/math';\nimport PropertyStyle from './shared-property-style';\n\nvar internalTableStyle = { borderCollapse: 'collapse' };\nvar secondTdStyle = { padding: 0 };\nvar unitContainerStyle = { width: '5em' };\n\nexport default function PropertyLengthMeasure(_ref, _ref2) {\n  var value = _ref.value,\n      onUpdate = _ref.onUpdate,\n      onValid = _ref.onValid,\n      configs = _ref.configs,\n      sourceElement = _ref.sourceElement,\n      internalState = _ref.internalState,\n      state = _ref.state;\n  var catalog = _ref2.catalog;\n\n\n  var length = value.get('length') || 0;\n  var _length = value.get('_length') || length;\n  var _unit = value.get('_unit') || UNIT_CENTIMETER;\n\n  var hook = configs.hook,\n      label = configs.label,\n      configRest = _objectWithoutProperties(configs, ['hook', 'label']);\n\n  var update = function update(lengthInput, unitInput) {\n\n    var newLength = toFixedFloat(lengthInput);\n    var merged = value.merge({\n      length: unitInput !== UNIT_CENTIMETER ? convert(newLength).from(unitInput).to(UNIT_CENTIMETER) : newLength,\n      _length: lengthInput,\n      _unit: unitInput\n    });\n\n    if (hook) {\n      return hook(merged, sourceElement, internalState, state).then(function (val) {\n        return onUpdate(val);\n      });\n    }\n\n    return onUpdate(merged);\n  };\n\n  return React.createElement(\n    'table',\n    { className: 'PropertyLengthMeasure', style: PropertyStyle.tableStyle },\n    React.createElement(\n      'tbody',\n      null,\n      React.createElement(\n        'tr',\n        null,\n        React.createElement(\n          'td',\n          { style: PropertyStyle.firstTdStyle },\n          React.createElement(\n            FormLabel,\n            null,\n            label\n          )\n        ),\n        React.createElement(\n          'td',\n          { style: secondTdStyle },\n          React.createElement(\n            'table',\n            { style: internalTableStyle },\n            React.createElement(\n              'tbody',\n              null,\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td',\n                  null,\n                  React.createElement(FormNumberInput, _extends({\n                    value: _length,\n                    onChange: function onChange(event) {\n                      return update(event.target.value, _unit);\n                    },\n                    onValid: onValid\n                  }, configRest))\n                ),\n                React.createElement(\n                  'td',\n                  { style: unitContainerStyle },\n                  React.createElement(\n                    FormSelect,\n                    { value: _unit, onChange: function onChange(event) {\n                        return update(_length, event.target.value);\n                      } },\n                    UNITS_LENGTH.map(function (el) {\n                      return React.createElement(\n                        'option',\n                        { key: el, value: el },\n                        el\n                      );\n                    })\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n}\n\nPropertyLengthMeasure.propTypes = {\n  value: PropTypes.instanceOf(Map).isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onValid: PropTypes.func,\n  configs: PropTypes.object.isRequired,\n  sourceElement: PropTypes.object,\n  internalState: PropTypes.object,\n  state: PropTypes.object.isRequired\n};\n\nPropertyLengthMeasure.contextTypes = {\n  catalog: PropTypes.object.isRequired\n};"]},"metadata":{},"sourceType":"module"}