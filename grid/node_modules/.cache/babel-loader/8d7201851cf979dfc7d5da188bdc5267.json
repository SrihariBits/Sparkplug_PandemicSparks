{"ast":null,"code":"import * as Three from 'three';\n\nfunction disposeGeometry(geometry) {\n  geometry.dispose();\n}\n\nfunction disposeTexture(texture) {\n  if (!texture) {\n    return;\n  }\n\n  texture.dispose();\n}\n\nfunction disposeMultimaterial(material) {\n  if (!(material instanceof Three.MultiMaterial)) {\n    return;\n  }\n\n  material.materials.forEach(function (material) {\n    disposeMaterial(material);\n  });\n}\n\nfunction disposeMaterial(material) {\n  if (!(material instanceof Three.Material)) {\n    return;\n  }\n\n  disposeTexture(material.map);\n  material.map = null;\n  material.dispose();\n}\n\nfunction disposeMesh(mesh) {\n  if (!(mesh instanceof Three.Mesh || mesh instanceof Three.BoxHelper || mesh instanceof Three.LineSegments)) {\n    return;\n  }\n\n  disposeGeometry(mesh.geometry);\n  disposeMultimaterial(mesh.material);\n  disposeMaterial(mesh.material);\n  mesh.geometry = null;\n  mesh.material = null;\n}\n\nexport function disposeScene(scene3D) {\n  scene3D.traverse(function (child) {\n    disposeMesh(child);\n    child = null;\n  });\n}\nexport function disposeObject(object) {\n  object.traverse(function (child) {\n    disposeMesh(child);\n    child = null;\n  });\n}","map":{"version":3,"sources":["/home/srihari/Desktop/Sparkplug_PandemicSparks/grid/node_modules/react-planner/es/components/viewer3d/three-memory-cleaner.js"],"names":["Three","disposeGeometry","geometry","dispose","disposeTexture","texture","disposeMultimaterial","material","MultiMaterial","materials","forEach","disposeMaterial","Material","map","disposeMesh","mesh","Mesh","BoxHelper","LineSegments","disposeScene","scene3D","traverse","child","disposeObject","object"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AACjCA,EAAAA,QAAQ,CAACC,OAAT;AACD;;AAED,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AAC/B,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AACDA,EAAAA,OAAO,CAACF,OAAR;AACD;;AAED,SAASG,oBAAT,CAA8BC,QAA9B,EAAwC;AACtC,MAAI,EAAEA,QAAQ,YAAYP,KAAK,CAACQ,aAA5B,CAAJ,EAAgD;AAC9C;AACD;;AACDD,EAAAA,QAAQ,CAACE,SAAT,CAAmBC,OAAnB,CAA2B,UAAUH,QAAV,EAAoB;AAC7CI,IAAAA,eAAe,CAACJ,QAAD,CAAf;AACD,GAFD;AAGD;;AAED,SAASI,eAAT,CAAyBJ,QAAzB,EAAmC;AACjC,MAAI,EAAEA,QAAQ,YAAYP,KAAK,CAACY,QAA5B,CAAJ,EAA2C;AACzC;AACD;;AAEDR,EAAAA,cAAc,CAACG,QAAQ,CAACM,GAAV,CAAd;AACAN,EAAAA,QAAQ,CAACM,GAAT,GAAe,IAAf;AACAN,EAAAA,QAAQ,CAACJ,OAAT;AACD;;AAED,SAASW,WAAT,CAAqBC,IAArB,EAA2B;AACzB,MAAI,EAAEA,IAAI,YAAYf,KAAK,CAACgB,IAAtB,IAA8BD,IAAI,YAAYf,KAAK,CAACiB,SAApD,IAAiEF,IAAI,YAAYf,KAAK,CAACkB,YAAzF,CAAJ,EAA4G;AAC1G;AACD;;AACDjB,EAAAA,eAAe,CAACc,IAAI,CAACb,QAAN,CAAf;AACAI,EAAAA,oBAAoB,CAACS,IAAI,CAACR,QAAN,CAApB;AACAI,EAAAA,eAAe,CAACI,IAAI,CAACR,QAAN,CAAf;AAEAQ,EAAAA,IAAI,CAACb,QAAL,GAAgB,IAAhB;AACAa,EAAAA,IAAI,CAACR,QAAL,GAAgB,IAAhB;AACD;;AAED,OAAO,SAASY,YAAT,CAAsBC,OAAtB,EAA+B;AACpCA,EAAAA,OAAO,CAACC,QAAR,CAAiB,UAAUC,KAAV,EAAiB;AAChCR,IAAAA,WAAW,CAACQ,KAAD,CAAX;AACAA,IAAAA,KAAK,GAAG,IAAR;AACD,GAHD;AAID;AAED,OAAO,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AACpCA,EAAAA,MAAM,CAACH,QAAP,CAAgB,UAAUC,KAAV,EAAiB;AAC/BR,IAAAA,WAAW,CAACQ,KAAD,CAAX;AACAA,IAAAA,KAAK,GAAG,IAAR;AACD,GAHD;AAID","sourcesContent":["import * as Three from 'three';\n\nfunction disposeGeometry(geometry) {\n  geometry.dispose();\n}\n\nfunction disposeTexture(texture) {\n  if (!texture) {\n    return;\n  }\n  texture.dispose();\n}\n\nfunction disposeMultimaterial(material) {\n  if (!(material instanceof Three.MultiMaterial)) {\n    return;\n  }\n  material.materials.forEach(function (material) {\n    disposeMaterial(material);\n  });\n}\n\nfunction disposeMaterial(material) {\n  if (!(material instanceof Three.Material)) {\n    return;\n  }\n\n  disposeTexture(material.map);\n  material.map = null;\n  material.dispose();\n}\n\nfunction disposeMesh(mesh) {\n  if (!(mesh instanceof Three.Mesh || mesh instanceof Three.BoxHelper || mesh instanceof Three.LineSegments)) {\n    return;\n  }\n  disposeGeometry(mesh.geometry);\n  disposeMultimaterial(mesh.material);\n  disposeMaterial(mesh.material);\n\n  mesh.geometry = null;\n  mesh.material = null;\n}\n\nexport function disposeScene(scene3D) {\n  scene3D.traverse(function (child) {\n    disposeMesh(child);\n    child = null;\n  });\n}\n\nexport function disposeObject(object) {\n  object.traverse(function (child) {\n    disposeMesh(child);\n    child = null;\n  });\n}"]},"metadata":{},"sourceType":"module"}