{"ast":null,"code":"var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from './panel';\nimport * as SharedStyle from '../../shared-style';\nimport { TiPlus, TiDelete } from 'react-icons/ti';\nimport { FaTrash, FaEye, FaLink, FaUnlink } from 'react-icons/fa';\nimport { Map } from 'immutable';\nimport { MODE_IDLE, MODE_2D_ZOOM_IN, MODE_2D_ZOOM_OUT, MODE_2D_PAN, MODE_3D_VIEW, MODE_3D_FIRST_PERSON, MODE_WAITING_DRAWING_LINE, MODE_DRAWING_LINE, MODE_DRAWING_HOLE, MODE_DRAWING_ITEM, MODE_DRAGGING_LINE, MODE_DRAGGING_VERTEX, MODE_DRAGGING_ITEM, MODE_DRAGGING_HOLE, MODE_FITTING_IMAGE, MODE_UPLOADING_IMAGE, MODE_ROTATING_ITEM } from '../../constants';\nvar VISIBILITY_MODE = {\n  MODE_IDLE: MODE_IDLE,\n  MODE_2D_ZOOM_IN: MODE_2D_ZOOM_IN,\n  MODE_2D_ZOOM_OUT: MODE_2D_ZOOM_OUT,\n  MODE_2D_PAN: MODE_2D_PAN,\n  MODE_3D_VIEW: MODE_3D_VIEW,\n  MODE_3D_FIRST_PERSON: MODE_3D_FIRST_PERSON,\n  MODE_WAITING_DRAWING_LINE: MODE_WAITING_DRAWING_LINE,\n  MODE_DRAWING_LINE: MODE_DRAWING_LINE,\n  MODE_DRAWING_HOLE: MODE_DRAWING_HOLE,\n  MODE_DRAWING_ITEM: MODE_DRAWING_ITEM,\n  MODE_DRAGGING_LINE: MODE_DRAGGING_LINE,\n  MODE_DRAGGING_VERTEX: MODE_DRAGGING_VERTEX,\n  MODE_DRAGGING_ITEM: MODE_DRAGGING_ITEM,\n  MODE_DRAGGING_HOLE: MODE_DRAGGING_HOLE,\n  MODE_FITTING_IMAGE: MODE_FITTING_IMAGE,\n  MODE_UPLOADING_IMAGE: MODE_UPLOADING_IMAGE,\n  MODE_ROTATING_ITEM: MODE_ROTATING_ITEM\n};\nvar styleEditButton = {\n  marginLeft: '5px',\n  border: '0px',\n  background: 'none',\n  color: SharedStyle.COLORS.white,\n  fontSize: '14px',\n  outline: '0px'\n};\nvar tablegroupStyle = {\n  width: '100%',\n  cursor: 'pointer',\n  maxHeight: '20em',\n  padding: '0 1em',\n  marginLeft: '1px'\n};\nvar iconColStyle = {\n  width: '2em',\n  textAlign: 'center'\n};\nvar styleHoverColor = {\n  color: SharedStyle.SECONDARY_COLOR.main\n};\n\nvar styleEditButtonHover = _extends({}, styleEditButton, styleHoverColor);\n\nvar styleAddLabel = {\n  fontSize: '10px',\n  marginLeft: '5px'\n};\nvar styleEyeVisible = {\n  fontSize: '1.25em'\n};\n\nvar styleEyeHidden = _extends({}, styleEyeVisible, {\n  color: '#a5a1a1'\n});\n\nvar newLayerLableStyle = {\n  fontSize: '1.3em',\n  cursor: 'pointer',\n  textAlign: 'center'\n};\n\nvar newLayerLableHoverStyle = _extends({}, newLayerLableStyle, styleHoverColor);\n\nvar PanelGroups = function (_Component) {\n  _inherits(PanelGroups, _Component);\n\n  function PanelGroups(props, context) {\n    _classCallCheck(this, PanelGroups);\n\n    var _this = _possibleConstructorReturn(this, (PanelGroups.__proto__ || Object.getPrototypeOf(PanelGroups)).call(this, props, context));\n\n    _this.state = {\n      newEmptyHover: false,\n      newSelectedHover: false\n    };\n    return _this;\n  }\n\n  _createClass(PanelGroups, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return this.props.groups.hashCode() !== nextProps.groups.hashCode() || this.props.layers.hashCode() !== nextProps.layers.hashCode() || this.props.mode !== nextProps.mode;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          mode = _props.mode,\n          groups = _props.groups,\n          layers = _props.layers;\n      if (!VISIBILITY_MODE[mode]) return null;\n      return React.createElement(Panel, {\n        name: this.context.translator.t('Groups'),\n        opened: groups.size > 0\n      }, groups.size ? React.createElement('table', {\n        style: tablegroupStyle\n      }, React.createElement('thead', null, React.createElement('tr', null, React.createElement('th', {\n        colSpan: '4'\n      }), React.createElement('th', null, this.context.translator.t('Elements')), React.createElement('th', null, this.context.translator.t('Name')))), React.createElement('tbody', null, groups.entrySeq().map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            groupID = _ref2[0],\n            group = _ref2[1];\n\n        var selectClick = function selectClick(e) {\n          return _this2.context.groupsActions.selectGroup(groupID);\n        };\n\n        var swapVisibility = function swapVisibility(e) {\n          e.stopPropagation();\n\n          _this2.context.groupsActions.setGroupProperties(groupID, new Map({\n            visible: !group.get('visible')\n          }));\n        };\n\n        var chainToGroup = function chainToGroup(e) {\n          layers.forEach(function (layer) {\n            var layerID = layer.get('id');\n            var layerElements = {\n              'lines': layer.get('lines'),\n              'items': layer.get('items'),\n              'holes': layer.get('holes'),\n              'areas': layer.get('areas')\n            };\n\n            var _loop = function _loop(elementPrototype) {\n              var ElementList = layerElements[elementPrototype];\n              ElementList.filter(function (el) {\n                return el.get('selected');\n              }).forEach(function (element) {\n                _this2.context.groupsActions.addToGroup(groupID, layerID, elementPrototype, element.get('id'));\n              });\n            };\n\n            for (var elementPrototype in layerElements) {\n              _loop(elementPrototype);\n            }\n          });\n          selectClick(e);\n        };\n\n        var isCurrentgroup = group.get('selected');\n        var shouldHighlight = isCurrentgroup;\n        var rowStyle = !shouldHighlight ? null : styleHoverColor;\n        var dimension = group.get('elements').reduce(function (sum, layer) {\n          return sum + layer.reduce(function (lSum, elProt) {\n            return lSum + elProt.size;\n          }, 0);\n        }, 0);\n        return React.createElement('tr', {\n          key: groupID,\n          style: rowStyle\n        }, React.createElement('td', {\n          style: iconColStyle,\n          title: _this2.context.translator.t('Toggle Group Visibility')\n        }, React.createElement(FaEye, {\n          onClick: swapVisibility,\n          style: !group.get('visible') ? styleEyeHidden : styleEyeVisible\n        })), React.createElement('td', {\n          style: iconColStyle,\n          title: _this2.context.translator.t('Chain selected Elements to Group')\n        }, React.createElement(FaLink, {\n          onClick: chainToGroup,\n          style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n        })), React.createElement('td', {\n          style: iconColStyle,\n          title: _this2.context.translator.t('Un-chain all Group\\'s Elements and remove Group')\n        }, React.createElement(FaUnlink, {\n          onClick: function onClick(e) {\n            return _this2.context.groupsActions.removeGroup(groupID);\n          },\n          style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n        })), React.createElement('td', {\n          style: iconColStyle,\n          title: _this2.context.translator.t('Delete group and all Elements')\n        }, React.createElement(FaTrash, {\n          onClick: function onClick(e) {\n            return _this2.context.groupsActions.removeGroupAndDeleteElements(groupID);\n          },\n          style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n        })), React.createElement('td', {\n          onClick: selectClick,\n          style: {\n            width: '0em',\n            textAlign: 'center'\n          }\n        }, dimension), React.createElement('td', {\n          onClick: selectClick\n        }, group.get('name')));\n      }))) : null, React.createElement('table', {\n        style: {\n          width: '100%',\n          marginTop: '0.1em'\n        }\n      }, React.createElement('tbody', null, React.createElement('tr', null, React.createElement('td', {\n        style: !this.state.newEmptyHover ? newLayerLableStyle : newLayerLableHoverStyle,\n        onMouseOver: function onMouseOver() {\n          return _this2.setState({\n            newEmptyHover: true\n          });\n        },\n        onMouseOut: function onMouseOut() {\n          return _this2.setState({\n            newEmptyHover: false\n          });\n        },\n        onClick: function onClick(e) {\n          return _this2.context.groupsActions.addGroup();\n        }\n      }, React.createElement(TiPlus, null), React.createElement('b', {\n        style: styleAddLabel\n      }, this.context.translator.t('New Empty Group'))), React.createElement('td', {\n        style: !this.state.newSelectedHover ? newLayerLableStyle : newLayerLableHoverStyle,\n        onMouseOver: function onMouseOver() {\n          return _this2.setState({\n            newSelectedHover: true\n          });\n        },\n        onMouseOut: function onMouseOut() {\n          return _this2.setState({\n            newSelectedHover: false\n          });\n        },\n        onClick: function onClick(e) {\n          return _this2.context.groupsActions.addGroupFromSelected();\n        }\n      }, React.createElement(TiPlus, null), React.createElement('b', {\n        style: styleAddLabel\n      }, this.context.translator.t('New Group from selected')))))));\n    }\n  }]);\n\n  return PanelGroups;\n}(Component);\n\nexport default PanelGroups;\nPanelGroups.propTypes = {\n  mode: PropTypes.string.isRequired,\n  groups: PropTypes.object.isRequired,\n  layers: PropTypes.object.isRequired\n};\nPanelGroups.contextTypes = {\n  catalog: PropTypes.object.isRequired,\n  translator: PropTypes.object.isRequired,\n  itemsActions: PropTypes.object.isRequired,\n  linesActions: PropTypes.object.isRequired,\n  holesActions: PropTypes.object.isRequired,\n  groupsActions: PropTypes.object.isRequired,\n  projectActions: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/home/srihari/Desktop/Sparkplug_PandemicSparks/grid/node_modules/react-planner/es/components/sidebar/panel-groups.js"],"names":["_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","React","Component","PropTypes","Panel","SharedStyle","TiPlus","TiDelete","FaTrash","FaEye","FaLink","FaUnlink","Map","MODE_IDLE","MODE_2D_ZOOM_IN","MODE_2D_ZOOM_OUT","MODE_2D_PAN","MODE_3D_VIEW","MODE_3D_FIRST_PERSON","MODE_WAITING_DRAWING_LINE","MODE_DRAWING_LINE","MODE_DRAWING_HOLE","MODE_DRAWING_ITEM","MODE_DRAGGING_LINE","MODE_DRAGGING_VERTEX","MODE_DRAGGING_ITEM","MODE_DRAGGING_HOLE","MODE_FITTING_IMAGE","MODE_UPLOADING_IMAGE","MODE_ROTATING_ITEM","VISIBILITY_MODE","styleEditButton","marginLeft","border","background","color","COLORS","white","fontSize","outline","tablegroupStyle","width","cursor","maxHeight","padding","iconColStyle","textAlign","styleHoverColor","SECONDARY_COLOR","main","styleEditButtonHover","styleAddLabel","styleEyeVisible","styleEyeHidden","newLayerLableStyle","newLayerLableHoverStyle","PanelGroups","_Component","context","_this","getPrototypeOf","state","newEmptyHover","newSelectedHover","shouldComponentUpdate","nextProps","nextState","groups","hashCode","layers","mode","render","_this2","_props","createElement","name","translator","t","opened","size","style","colSpan","entrySeq","map","_ref","_ref2","groupID","group","selectClick","e","groupsActions","selectGroup","swapVisibility","stopPropagation","setGroupProperties","visible","get","chainToGroup","forEach","layer","layerID","layerElements","_loop","elementPrototype","ElementList","filter","el","element","addToGroup","isCurrentgroup","shouldHighlight","rowStyle","dimension","reduce","sum","lSum","elProt","title","onClick","removeGroup","removeGroupAndDeleteElements","marginTop","onMouseOver","setState","onMouseOut","addGroup","addGroupFromSelected","propTypes","string","isRequired","object","contextTypes","catalog","itemsActions","linesActions","holesActions","projectActions"],"mappings":"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","sourcesContent":["var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from './panel';\nimport * as SharedStyle from '../../shared-style';\nimport { TiPlus, TiDelete } from 'react-icons/ti';\nimport { FaTrash, FaEye, FaLink, FaUnlink } from 'react-icons/fa';\nimport { Map } from 'immutable';\n\nimport { MODE_IDLE, MODE_2D_ZOOM_IN, MODE_2D_ZOOM_OUT, MODE_2D_PAN, MODE_3D_VIEW, MODE_3D_FIRST_PERSON, MODE_WAITING_DRAWING_LINE, MODE_DRAWING_LINE, MODE_DRAWING_HOLE, MODE_DRAWING_ITEM, MODE_DRAGGING_LINE, MODE_DRAGGING_VERTEX, MODE_DRAGGING_ITEM, MODE_DRAGGING_HOLE, MODE_FITTING_IMAGE, MODE_UPLOADING_IMAGE, MODE_ROTATING_ITEM } from '../../constants';\n\nvar VISIBILITY_MODE = {\n  MODE_IDLE: MODE_IDLE, MODE_2D_ZOOM_IN: MODE_2D_ZOOM_IN, MODE_2D_ZOOM_OUT: MODE_2D_ZOOM_OUT, MODE_2D_PAN: MODE_2D_PAN, MODE_3D_VIEW: MODE_3D_VIEW, MODE_3D_FIRST_PERSON: MODE_3D_FIRST_PERSON,\n  MODE_WAITING_DRAWING_LINE: MODE_WAITING_DRAWING_LINE, MODE_DRAWING_LINE: MODE_DRAWING_LINE, MODE_DRAWING_HOLE: MODE_DRAWING_HOLE, MODE_DRAWING_ITEM: MODE_DRAWING_ITEM, MODE_DRAGGING_LINE: MODE_DRAGGING_LINE,\n  MODE_DRAGGING_VERTEX: MODE_DRAGGING_VERTEX, MODE_DRAGGING_ITEM: MODE_DRAGGING_ITEM, MODE_DRAGGING_HOLE: MODE_DRAGGING_HOLE, MODE_FITTING_IMAGE: MODE_FITTING_IMAGE, MODE_UPLOADING_IMAGE: MODE_UPLOADING_IMAGE,\n  MODE_ROTATING_ITEM: MODE_ROTATING_ITEM\n};\n\nvar styleEditButton = {\n  marginLeft: '5px',\n  border: '0px',\n  background: 'none',\n  color: SharedStyle.COLORS.white,\n  fontSize: '14px',\n  outline: '0px'\n};\n\nvar tablegroupStyle = {\n  width: '100%',\n  cursor: 'pointer',\n  maxHeight: '20em',\n  padding: '0 1em',\n  marginLeft: '1px'\n};\n\nvar iconColStyle = { width: '2em', textAlign: 'center' };\nvar styleHoverColor = { color: SharedStyle.SECONDARY_COLOR.main };\nvar styleEditButtonHover = _extends({}, styleEditButton, styleHoverColor);\nvar styleAddLabel = { fontSize: '10px', marginLeft: '5px' };\nvar styleEyeVisible = { fontSize: '1.25em' };\nvar styleEyeHidden = _extends({}, styleEyeVisible, { color: '#a5a1a1' });\nvar newLayerLableStyle = { fontSize: '1.3em', cursor: 'pointer', textAlign: 'center' };\nvar newLayerLableHoverStyle = _extends({}, newLayerLableStyle, styleHoverColor);\n\nvar PanelGroups = function (_Component) {\n  _inherits(PanelGroups, _Component);\n\n  function PanelGroups(props, context) {\n    _classCallCheck(this, PanelGroups);\n\n    var _this = _possibleConstructorReturn(this, (PanelGroups.__proto__ || Object.getPrototypeOf(PanelGroups)).call(this, props, context));\n\n    _this.state = {\n      newEmptyHover: false,\n      newSelectedHover: false\n    };\n    return _this;\n  }\n\n  _createClass(PanelGroups, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return this.props.groups.hashCode() !== nextProps.groups.hashCode() || this.props.layers.hashCode() !== nextProps.layers.hashCode() || this.props.mode !== nextProps.mode;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          mode = _props.mode,\n          groups = _props.groups,\n          layers = _props.layers;\n\n\n      if (!VISIBILITY_MODE[mode]) return null;\n\n      return React.createElement(\n        Panel,\n        { name: this.context.translator.t('Groups'), opened: groups.size > 0 },\n        groups.size ? React.createElement(\n          'table',\n          { style: tablegroupStyle },\n          React.createElement(\n            'thead',\n            null,\n            React.createElement(\n              'tr',\n              null,\n              React.createElement('th', { colSpan: '4' }),\n              React.createElement(\n                'th',\n                null,\n                this.context.translator.t('Elements')\n              ),\n              React.createElement(\n                'th',\n                null,\n                this.context.translator.t('Name')\n              )\n            )\n          ),\n          React.createElement(\n            'tbody',\n            null,\n            groups.entrySeq().map(function (_ref) {\n              var _ref2 = _slicedToArray(_ref, 2),\n                  groupID = _ref2[0],\n                  group = _ref2[1];\n\n              var selectClick = function selectClick(e) {\n                return _this2.context.groupsActions.selectGroup(groupID);\n              };\n\n              var swapVisibility = function swapVisibility(e) {\n                e.stopPropagation();\n                _this2.context.groupsActions.setGroupProperties(groupID, new Map({ visible: !group.get('visible') }));\n              };\n\n              var chainToGroup = function chainToGroup(e) {\n                layers.forEach(function (layer) {\n\n                  var layerID = layer.get('id');\n                  var layerElements = {\n                    'lines': layer.get('lines'),\n                    'items': layer.get('items'),\n                    'holes': layer.get('holes'),\n                    'areas': layer.get('areas')\n                  };\n\n                  var _loop = function _loop(elementPrototype) {\n                    var ElementList = layerElements[elementPrototype];\n                    ElementList.filter(function (el) {\n                      return el.get('selected');\n                    }).forEach(function (element) {\n                      _this2.context.groupsActions.addToGroup(groupID, layerID, elementPrototype, element.get('id'));\n                    });\n                  };\n\n                  for (var elementPrototype in layerElements) {\n                    _loop(elementPrototype);\n                  }\n                });\n\n                selectClick(e);\n              };\n\n              var isCurrentgroup = group.get('selected');\n              var shouldHighlight = isCurrentgroup;\n              var rowStyle = !shouldHighlight ? null : styleHoverColor;\n\n              var dimension = group.get('elements').reduce(function (sum, layer) {\n                return sum + layer.reduce(function (lSum, elProt) {\n                  return lSum + elProt.size;\n                }, 0);\n              }, 0);\n\n              return React.createElement(\n                'tr',\n                {\n                  key: groupID,\n                  style: rowStyle\n                },\n                React.createElement(\n                  'td',\n                  { style: iconColStyle, title: _this2.context.translator.t('Toggle Group Visibility') },\n                  React.createElement(FaEye, {\n                    onClick: swapVisibility,\n                    style: !group.get('visible') ? styleEyeHidden : styleEyeVisible\n                  })\n                ),\n                React.createElement(\n                  'td',\n                  { style: iconColStyle, title: _this2.context.translator.t('Chain selected Elements to Group') },\n                  React.createElement(FaLink, {\n                    onClick: chainToGroup,\n                    style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n                  })\n                ),\n                React.createElement(\n                  'td',\n                  { style: iconColStyle, title: _this2.context.translator.t('Un-chain all Group\\'s Elements and remove Group') },\n                  React.createElement(FaUnlink, {\n                    onClick: function onClick(e) {\n                      return _this2.context.groupsActions.removeGroup(groupID);\n                    },\n                    style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n                  })\n                ),\n                React.createElement(\n                  'td',\n                  { style: iconColStyle, title: _this2.context.translator.t('Delete group and all Elements') },\n                  React.createElement(FaTrash, {\n                    onClick: function onClick(e) {\n                      return _this2.context.groupsActions.removeGroupAndDeleteElements(groupID);\n                    },\n                    style: !shouldHighlight ? styleEditButton : styleEditButtonHover\n                  })\n                ),\n                React.createElement(\n                  'td',\n                  { onClick: selectClick, style: { width: '0em', textAlign: 'center' } },\n                  dimension\n                ),\n                React.createElement(\n                  'td',\n                  { onClick: selectClick },\n                  group.get('name')\n                )\n              );\n            })\n          )\n        ) : null,\n        React.createElement(\n          'table',\n          { style: { width: '100%', marginTop: '0.1em' } },\n          React.createElement(\n            'tbody',\n            null,\n            React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                {\n                  style: !this.state.newEmptyHover ? newLayerLableStyle : newLayerLableHoverStyle,\n                  onMouseOver: function onMouseOver() {\n                    return _this2.setState({ newEmptyHover: true });\n                  },\n                  onMouseOut: function onMouseOut() {\n                    return _this2.setState({ newEmptyHover: false });\n                  },\n                  onClick: function onClick(e) {\n                    return _this2.context.groupsActions.addGroup();\n                  }\n                },\n                React.createElement(TiPlus, null),\n                React.createElement(\n                  'b',\n                  { style: styleAddLabel },\n                  this.context.translator.t('New Empty Group')\n                )\n              ),\n              React.createElement(\n                'td',\n                {\n                  style: !this.state.newSelectedHover ? newLayerLableStyle : newLayerLableHoverStyle,\n                  onMouseOver: function onMouseOver() {\n                    return _this2.setState({ newSelectedHover: true });\n                  },\n                  onMouseOut: function onMouseOut() {\n                    return _this2.setState({ newSelectedHover: false });\n                  },\n                  onClick: function onClick(e) {\n                    return _this2.context.groupsActions.addGroupFromSelected();\n                  }\n                },\n                React.createElement(TiPlus, null),\n                React.createElement(\n                  'b',\n                  { style: styleAddLabel },\n                  this.context.translator.t('New Group from selected')\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PanelGroups;\n}(Component);\n\nexport default PanelGroups;\n\n\nPanelGroups.propTypes = {\n  mode: PropTypes.string.isRequired,\n  groups: PropTypes.object.isRequired,\n  layers: PropTypes.object.isRequired\n};\n\nPanelGroups.contextTypes = {\n  catalog: PropTypes.object.isRequired,\n  translator: PropTypes.object.isRequired,\n  itemsActions: PropTypes.object.isRequired,\n  linesActions: PropTypes.object.isRequired,\n  holesActions: PropTypes.object.isRequired,\n  groupsActions: PropTypes.object.isRequired,\n  projectActions: PropTypes.object.isRequired\n};"]},"metadata":{},"sourceType":"module"}