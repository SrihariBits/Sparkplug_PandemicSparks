{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Translator from './translator/translator';\nimport Catalog from './catalog/catalog';\nimport actions from './actions/export';\nimport { objectsMap } from './utils/objects-utils';\nimport { ToolbarComponents, Content, SidebarComponents, FooterBarComponents } from './components/export';\nimport { VERSION } from './version';\nimport './styles/export';\nvar Toolbar = ToolbarComponents.Toolbar;\nvar Sidebar = SidebarComponents.Sidebar;\nvar FooterBar = FooterBarComponents.FooterBar;\nvar toolbarW = 50;\nvar sidebarW = 300;\nvar footerBarH = 20;\nvar wrapperStyle = {\n  display: 'flex',\n  flexFlow: 'row nowrap'\n};\n\nvar ReactPlanner = function (_Component) {\n  _inherits(ReactPlanner, _Component);\n\n  function ReactPlanner() {\n    _classCallCheck(this, ReactPlanner);\n\n    return _possibleConstructorReturn(this, (ReactPlanner.__proto__ || Object.getPrototypeOf(ReactPlanner)).apply(this, arguments));\n  }\n\n  _createClass(ReactPlanner, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return _extends({}, objectsMap(actions, function (actionNamespace) {\n        return _this2.props[actionNamespace];\n      }), {\n        translator: this.props.translator,\n        catalog: this.props.catalog\n      });\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var store = this.context.store;\n      var _props = this.props,\n          projectActions = _props.projectActions,\n          catalog = _props.catalog,\n          stateExtractor = _props.stateExtractor,\n          plugins = _props.plugins;\n      plugins.forEach(function (plugin) {\n        return plugin(store, stateExtractor);\n      });\n      projectActions.initCatalog(catalog);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var stateExtractor = nextProps.stateExtractor,\n          state = nextProps.state,\n          projectActions = nextProps.projectActions,\n          catalog = nextProps.catalog;\n      var plannerState = stateExtractor(state);\n      var catalogReady = plannerState.getIn(['catalog', 'ready']);\n\n      if (!catalogReady) {\n        projectActions.initCatalog(catalog);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          state = _props2.state,\n          stateExtractor = _props2.stateExtractor,\n          props = _objectWithoutProperties(_props2, ['isAdmin', 'width', 'height', 'state', 'stateExtractor']);\n\n      var contentW = width - toolbarW - sidebarW;\n      var toolbarH = height - footerBarH;\n      var contentH = height - footerBarH;\n      var sidebarH = height - footerBarH;\n      var extractedState = stateExtractor(state);\n\n      if (this.props.isAdmin) {\n        return React.createElement('div', {\n          style: _extends({}, wrapperStyle, {\n            height: height\n          })\n        }, React.createElement(Toolbar, _extends({\n          width: toolbarW,\n          height: toolbarH,\n          state: extractedState,\n          isAdmin: this.props.isAdmin\n        }, props)), React.createElement(Content, _extends({\n          width: contentW,\n          height: contentH,\n          state: extractedState\n        }, props, {\n          onWheel: function onWheel(event) {\n            return event.preventDefault();\n          }\n        })), React.createElement(Sidebar, _extends({\n          width: sidebarW,\n          height: sidebarH,\n          state: extractedState\n        }, props)), React.createElement(FooterBar, _extends({\n          width: width,\n          height: footerBarH,\n          state: extractedState\n        }, props)));\n      } else {\n        console.log(\"hu\");\n        return React.createElement('div', {\n          style: _extends({}, wrapperStyle, {\n            height: height\n          })\n        }, React.createElement(Toolbar, _extends({\n          width: toolbarW,\n          height: toolbarH,\n          state: extractedState,\n          isAdmin: this.props.isAdmin\n        }, props)), React.createElement(Content, _extends({\n          width: contentW,\n          height: contentH,\n          state: extractedState\n        }, props, {\n          onWheel: function onWheel(event) {\n            return event.preventDefault();\n          }\n        })), React.createElement(FooterBar, _extends({\n          width: width,\n          height: footerBarH,\n          state: extractedState\n        }, props)));\n      }\n    }\n  }]);\n\n  return ReactPlanner;\n}(Component);\n\nReactPlanner.propTypes = {\n  translator: PropTypes.instanceOf(Translator),\n  catalog: PropTypes.instanceOf(Catalog),\n  allowProjectFileSupport: PropTypes.bool,\n  plugins: PropTypes.arrayOf(PropTypes.func),\n  autosaveKey: PropTypes.string,\n  autosaveDelay: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  stateExtractor: PropTypes.func.isRequired,\n  toolbarButtons: PropTypes.array,\n  sidebarComponents: PropTypes.array,\n  footerbarComponents: PropTypes.array,\n  customContents: PropTypes.object,\n  softwareSignature: PropTypes.string\n};\nReactPlanner.contextTypes = {\n  store: PropTypes.object.isRequired\n};\nReactPlanner.childContextTypes = _extends({}, objectsMap(actions, function () {\n  return PropTypes.object;\n}), {\n  translator: PropTypes.object,\n  catalog: PropTypes.object\n});\nReactPlanner.defaultProps = {\n  translator: new Translator(),\n  catalog: new Catalog(),\n  plugins: [],\n  allowProjectFileSupport: true,\n  softwareSignature: 'React-Planner ' + VERSION,\n  toolbarButtons: [],\n  sidebarComponents: [],\n  footerbarComponents: [],\n  customContents: {}\n}; //redux connect\n\nfunction mapStateToProps(reduxState) {\n  return {\n    state: reduxState\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return objectsMap(actions, function (actionNamespace) {\n    return bindActionCreators(actions[actionNamespace], dispatch);\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReactPlanner);","map":{"version":3,"sources":["/home/srihari/Desktop/Sparkplug_PandemicSparks/grid/node_modules/react-planner/es/react-planner.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_objectWithoutProperties","obj","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","Component","PropTypes","bindActionCreators","connect","Translator","Catalog","actions","objectsMap","ToolbarComponents","Content","SidebarComponents","FooterBarComponents","VERSION","Toolbar","Sidebar","FooterBar","toolbarW","sidebarW","footerBarH","wrapperStyle","display","flexFlow","ReactPlanner","_Component","getPrototypeOf","apply","getChildContext","_this2","actionNamespace","translator","catalog","componentWillMount","store","context","_props","projectActions","stateExtractor","plugins","forEach","plugin","initCatalog","componentWillReceiveProps","nextProps","state","plannerState","catalogReady","getIn","render","_props2","width","height","contentW","toolbarH","contentH","sidebarH","extractedState","isAdmin","createElement","style","onWheel","event","preventDefault","console","log","propTypes","instanceOf","allowProjectFileSupport","bool","arrayOf","func","autosaveKey","string","autosaveDelay","number","isRequired","toolbarButtons","array","sidebarComponents","footerbarComponents","customContents","object","softwareSignature","contextTypes","childContextTypes","defaultProps","mapStateToProps","reduxState","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Translator from './translator/translator';\nimport Catalog from './catalog/catalog';\nimport actions from './actions/export';\nimport { objectsMap } from './utils/objects-utils';\nimport { ToolbarComponents, Content, SidebarComponents, FooterBarComponents } from './components/export';\nimport { VERSION } from './version';\nimport './styles/export';\n\nvar Toolbar = ToolbarComponents.Toolbar;\nvar Sidebar = SidebarComponents.Sidebar;\nvar FooterBar = FooterBarComponents.FooterBar;\n\n\nvar toolbarW = 50;\nvar sidebarW = 300;\nvar footerBarH = 20;\n\nvar wrapperStyle = {\n  display: 'flex',\n  flexFlow: 'row nowrap'\n};\n\nvar ReactPlanner = function (_Component) {\n  _inherits(ReactPlanner, _Component);\n\n  function ReactPlanner() {\n    _classCallCheck(this, ReactPlanner);\n\n    return _possibleConstructorReturn(this, (ReactPlanner.__proto__ || Object.getPrototypeOf(ReactPlanner)).apply(this, arguments));\n  }\n\n  _createClass(ReactPlanner, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return _extends({}, objectsMap(actions, function (actionNamespace) {\n        return _this2.props[actionNamespace];\n      }), {\n        translator: this.props.translator,\n        catalog: this.props.catalog\n      });\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var store = this.context.store;\n      var _props = this.props,\n          projectActions = _props.projectActions,\n          catalog = _props.catalog,\n          stateExtractor = _props.stateExtractor,\n          plugins = _props.plugins;\n\n      plugins.forEach(function (plugin) {\n        return plugin(store, stateExtractor);\n      });\n      projectActions.initCatalog(catalog);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var stateExtractor = nextProps.stateExtractor,\n          state = nextProps.state,\n          projectActions = nextProps.projectActions,\n          catalog = nextProps.catalog;\n\n      var plannerState = stateExtractor(state);\n      var catalogReady = plannerState.getIn(['catalog', 'ready']);\n      if (!catalogReady) {\n        projectActions.initCatalog(catalog);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          state = _props2.state,\n          stateExtractor = _props2.stateExtractor,\n          props = _objectWithoutProperties(_props2, ['isAdmin','width', 'height', 'state', 'stateExtractor']);\n\n      var contentW = width - toolbarW - sidebarW;\n      var toolbarH = height - footerBarH;\n      var contentH = height - footerBarH;\n      var sidebarH = height - footerBarH;\n\n      var extractedState = stateExtractor(state);\n\n      if(this.props.isAdmin)\n      {\n        return React.createElement(\n        'div',\n        { style: _extends({}, wrapperStyle, { height: height }) },\n        React.createElement(Toolbar, _extends({ width: toolbarW, height: toolbarH, state: extractedState, isAdmin: this.props.isAdmin }, props)),\n        React.createElement(Content, _extends({ width: contentW, height: contentH, state: extractedState }, props, { onWheel: function onWheel(event) {\n            return event.preventDefault();\n          } })),\n        React.createElement(Sidebar, _extends({ width: sidebarW, height: sidebarH, state: extractedState }, props)),\n        React.createElement(FooterBar, _extends({ width: width, height: footerBarH, state: extractedState }, props))\n      );}\n      else{\n        console.log(\"hu\");\n        return React.createElement(\n          'div',\n          { style: _extends({}, wrapperStyle, { height: height }) },\n          React.createElement(Toolbar, _extends({ width: toolbarW, height: toolbarH, state: extractedState, isAdmin: this.props.isAdmin }, props)),\n          React.createElement(Content, _extends({ width: contentW, height: contentH, state: extractedState }, props, { onWheel: function onWheel(event) {\n              return event.preventDefault();\n            } })),\n          React.createElement(FooterBar, _extends({ width: width, height: footerBarH, state: extractedState }, props))\n        );\n      }\n    }\n  }]);\n\n  return ReactPlanner;\n}(Component);\n\nReactPlanner.propTypes = {\n  translator: PropTypes.instanceOf(Translator),\n  catalog: PropTypes.instanceOf(Catalog),\n  allowProjectFileSupport: PropTypes.bool,\n  plugins: PropTypes.arrayOf(PropTypes.func),\n  autosaveKey: PropTypes.string,\n  autosaveDelay: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  stateExtractor: PropTypes.func.isRequired,\n  toolbarButtons: PropTypes.array,\n  sidebarComponents: PropTypes.array,\n  footerbarComponents: PropTypes.array,\n  customContents: PropTypes.object,\n  softwareSignature: PropTypes.string\n};\n\nReactPlanner.contextTypes = {\n  store: PropTypes.object.isRequired\n};\n\nReactPlanner.childContextTypes = _extends({}, objectsMap(actions, function () {\n  return PropTypes.object;\n}), {\n  translator: PropTypes.object,\n  catalog: PropTypes.object\n});\n\nReactPlanner.defaultProps = {\n  translator: new Translator(),\n  catalog: new Catalog(),\n  plugins: [],\n  allowProjectFileSupport: true,\n  softwareSignature: 'React-Planner ' + VERSION,\n  toolbarButtons: [],\n  sidebarComponents: [],\n  footerbarComponents: [],\n  customContents: {}\n};\n\n//redux connect\nfunction mapStateToProps(reduxState) {\n  return {\n    state: reduxState\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return objectsMap(actions, function (actionNamespace) {\n    return bindActionCreators(actions[actionNamespace], dispatch);\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReactPlanner);"]},"metadata":{},"sourceType":"module"}